# 미니게임 기획 아이디어 문서

## 📋 문서 개요
- **프로젝트**: Time is Ticking
- **엔진**: Unity 6 (6000.2.10f1)
- **테마**: Timeless (시간의 무한성, 타임루프, 시계 조작)
- **작성일**: 2025-11-09

## 🎯 프로젝트 핵심 컨셉
현재 프로젝트는 "5분간 반복되는 시간"이라는 타임루프 메커니즘을 기반으로 하며, 시계 자체를 조작하는 방식으로 진행됩니다. 플레이어는 깨진 시간의 틈에서 무언가를 찾아야 합니다.

---

## 💡 미니게임 아이디어 1: 시간 역행 퍼즐 (Time Rewind Puzzle)

### 게임 아이디어
플레이어가 특정 이벤트를 발생시키기 위해 시계의 시침을 역으로 돌려 과거로 돌아가며 퍼즐을 푸는 게임입니다. 특정 시간대에만 발생하는 이벤트들을 조합하여 목표를 달성합니다.

**핵심 메커니즘**:
- 디지털 시계를 수동으로 되감기
- 각 시간대별로 다른 오브젝트 상태
- 타임라인 상에서 인과관계 조작

### 구현할 기능
1. **시간 조작 UI**
   - 시계 드래그로 시간 앞/뒤로 이동
   - 현재 시간에서 ±5분 범위 내 이동 가능
   - 시간 흐름 속도 조절 (정지, 느리게, 빠르게)

2. **타임라인 이벤트 시스템**
   - TimeEventDefine을 확장한 TimelineEvent 클래스
   - 특정 시간에 트리거되는 이벤트 등록
   - 이벤트 간 의존성 체크 (A 이벤트 후 B 이벤트 가능)

3. **오브젝트 상태 기록**
   - 매 초마다 게임 오브젝트 상태 저장
   - 시간 되감기 시 이전 상태로 복원
   - 최대 5분(300초) 히스토리 유지

4. **퍼즐 검증 시스템**
   - 목표 상태 정의 (예: 3개의 오브젝트가 특정 위치에 동시 존재)
   - 현재 타임라인 상태 검증
   - 성공/실패 피드백

### 필요한 리소스

**스크립트 (C#)**:
- `TimelineController.cs` - 시간 조작 로직
- `TimelineEvent.cs` - 타임라인 이벤트 정의
- `ObjectStateRecorder.cs` - 오브젝트 상태 저장/복원
- `TimeRewindPuzzleManager.cs` - 퍼즐 관리 및 검증

**UI 에셋**:
- 시계 조작 UI (슬라이더 또는 원형 다이얼)
- 타임라인 표시 바
- 이벤트 마커 아이콘
- 시간 흐름 속도 버튼 (일시정지, 재생, 빠르기)

**비주얼 에셋**:
- 시간 이동 이펙트 (파티클, 셰이더)
- 오브젝트 고스트 이미지 (과거/미래 상태 표시)
- 타임라인 연결선 (인과관계 시각화)

**오디오 에셋**:
- 시계 태엽 감는 소리
- 시간 역행 효과음
- 이벤트 트리거 효과음
- 퍼즐 성공/실패 사운드

---

## 💡 미니게임 아이디어 2: 시계 침 블록 쌓기 (Clock Hand Stacking)

### 게임 아이디어
회전하는 시계 침에 블록을 정확한 타이밍에 떨어뜨려 쌓아올리는 게임입니다. TimeBouncer의 원형 구조를 활용하되, 더 전략적인 타이밍 게임으로 발전시킵니다.

**핵심 메커니즘**:
- 원형 시계판 위에서 회전하는 시침
- 낙하하는 블록의 타이밍 조절
- 쌓인 블록의 균형 유지

### 구현할 기능
1. **회전 시스템**
   - 시침이 일정 속도로 회전
   - 난이도에 따라 회전 속도 증가
   - 분침과 시침 동시 활용 (2개 이상의 회전축)

2. **블록 드랍 메커니즘**
   - 플레이어 입력으로 블록 낙하
   - 물리 기반 블록 쌓기 (Unity Physics 2D)
   - 블록별 특수 효과 (고정, 점착, 탄성 등)

3. **균형 시스템**
   - 시침 위 무게중심 계산
   - 불균형 시 시침 흔들림 효과
   - 임계값 초과 시 블록 붕괴

4. **점수 및 콤보 시스템**
   - 연속 성공 시 콤보 점수
   - 완벽한 타이밍 보너스
   - 특정 높이 도달 시 마일스톤 보상

### 필요한 리소스

**스크립트 (C#)**:
- `ClockHandRotator.cs` - 시침 회전 제어
- `BlockDropper.cs` - 블록 생성 및 드랍
- `BalanceCalculator.cs` - 무게중심 및 균형 계산
- `StackingGameManager.cs` - 게임 진행 관리

**UI 에셋**:
- 점수 표시 UI
- 콤보 표시 애니메이션
- 타이밍 인디케이터 (Perfect, Good, Miss)
- 게임 오버 화면

**비주얼 에셋**:
- 다양한 블록 스프라이트 (3-5종류)
- 시침/분침 비주얼
- 균형 흔들림 이펙트
- 블록 쌓기 성공 파티클

**오디오 에셋**:
- 블록 드랍 효과음
- 블록 착지/충돌 소리
- 콤보 달성 사운드
- 균형 붕괴 효과음
- 배경 음악 (긴장감 있는 시계 소리 기반)

---

## 💡 미니게임 아이디어 3: 시간의 틈 찾기 (Time Glitch Hunt)

### 게임 아이디어
반복되는 5분의 타임루프에서 매번 미묘하게 달라지는 "시간의 틈(글리치)"을 찾아내는 관찰력 게임입니다. 차이점 찾기와 타임루프를 결합한 컨셉입니다.

**핵심 메커니즘**:
- 동일한 씬이 반복되지만 작은 차이가 존재
- 플레이어는 시간을 멈추고 차이점 발견
- 발견한 글리치는 스토리 진행에 영향

### 구현할 기능
1. **루프 비교 시스템**
   - 이전 루프 스냅샷 저장
   - 현재 루프와 차이점 비교
   - 글리치 포인트 자동 생성 (랜덤 또는 프리셋)

2. **시간 정지 메커니즘**
   - 플레이어가 시간을 일시정지
   - 정지 가능 횟수 제한 (에너지 시스템)
   - 정지 중 씬 탐색 및 조사

3. **글리치 검출 UI**
   - 화면 클릭/터치로 글리치 위치 표시
   - 정답/오답 즉시 피드백
   - 힌트 시스템 (제한적 사용)

4. **난이도 단계**
   - Easy: 명확한 시각적 차이 (색상, 위치)
   - Medium: 미묘한 변화 (크기, 회전)
   - Hard: 시간 흐름에 따른 변화 (특정 타이밍에만 보임)

### 필요한 리소스

**스크립트 (C#)**:
- `TimeLoopComparator.cs` - 루프 간 비교 로직
- `GlitchGenerator.cs` - 글리치 생성 및 배치
- `TimeStopController.cs` - 시간 정지 제어
- `GlitchHuntManager.cs` - 게임 진행 관리

**UI 에셋**:
- 글리치 마커 아이콘
- 시간 정지 에너지 바
- 힌트 버튼 UI
- 발견한 글리치 목록 패널
- 타이머 표시

**비주얼 에셋**:
- 글리치 이펙트 (왜곡, 노이즈, 깜빡임)
- 시간 정지 화면 효과 (흑백, 블러)
- 정답/오답 표시 이펙트
- 글리치 하이라이트 애니메이션

**오디오 에셋**:
- 시간 정지/재개 효과음
- 글리치 발견 사운드
- 정답/오답 피드백 음
- 배경 음악 (반복적이지만 미묘하게 변화하는 루프)
- 긴장감 조성 앰비언트

---

## 💡 미니게임 아이디어 4: 시계 기어 퍼즐 (Clock Gear Puzzle)

### 게임 아이디어
시계 내부의 톱니바퀴들을 적절히 배치하여 시계가 정상적으로 작동하도록 만드는 메커니즘 퍼즐 게임입니다.

**핵심 메커니즘**:
- 톱니바퀴 회전 방향 및 속도 계산
- 기어 간 연결 및 동력 전달
- 최종적으로 시침/분침 작동

### 구현할 기능
1. **기어 시스템**
   - 다양한 크기의 기어 (속도비 다름)
   - 드래그 앤 드롭으로 기어 배치
   - 기어 간 맞물림 자동 감지

2. **회전 전파 알고리즘**
   - 동력원에서 시작하는 회전 전파
   - 기어비 계산 (큰 기어 → 작은 기어)
   - 회전 방향 전환 시각화

3. **제약 조건 시스템**
   - 제한된 개수의 기어 제공
   - 특정 기어는 고정 위치
   - 목표 속도/방향 달성 조건

4. **시뮬레이션 및 검증**
   - 배치 완료 후 시뮬레이션 실행
   - 목표 달성 여부 검증
   - 실패 시 재배치 가능

### 필요한 리소스

**스크립트 (C#)**:
- `Gear.cs` - 개별 기어 동작
- `GearConnectionDetector.cs` - 기어 연결 감지
- `RotationPropagator.cs` - 회전 전파 계산
- `GearPuzzleManager.cs` - 퍼즐 관리 및 검증

**UI 에셋**:
- 기어 인벤토리 UI
- 시뮬레이션 시작 버튼
- 회전 속도/방향 표시
- 목표 조건 설명 패널

**비주얼 에셋**:
- 다양한 크기의 기어 스프라이트 (5-7종)
- 기어 맞물림 하이라이트
- 회전 방향 표시 화살표
- 동력 전달 시각 효과
- 배경 시계 메커니즘 이미지

**오디오 에셋**:
- 기어 배치 효과음
- 기어 회전 소리 (톱니 맞물림)
- 시뮬레이션 시작/완료 소리
- 성공/실패 피드백 음
- 기계식 시계 배경음

---

## 💡 미니게임 아이디어 5: 시간 분할 액션 (Time Split Action)

### 게임 아이디어
플레이어가 시간을 여러 갈래로 분할하여 동시에 여러 행동을 수행하는 액션 퍼즐 게임입니다. 한 타임라인에서의 행동이 다른 타임라인에 영향을 줍니다.

**핵심 메커니즘**:
- 최대 3개의 병렬 타임라인 생성
- 각 타임라인에서 플레이어 분신 조작
- 타임라인 간 상호작용 및 동기화

### 구현할 기능
1. **타임라인 분할 시스템**
   - 특정 시점에서 타임라인 분기
   - 각 타임라인 독립적 진행
   - 분기점으로 돌아가기 기능

2. **분신 기록/재생**
   - 첫 번째 타임라인에서 플레이어 행동 기록
   - 두 번째 타임라인에서 기록된 행동 재생
   - 실시간으로 분신들과 협력

3. **동기화 퍼즐**
   - 여러 분신이 동시에 스위치 작동
   - 타이밍 맞춰 문 통과
   - 분신 간 오브젝트 전달

4. **시간 역설 방지**
   - 모순된 행동 감지 (예: 자기 자신 공격)
   - 역설 발생 시 타임라인 리셋
   - 허용된 상호작용만 가능

### 필요한 리소스

**스크립트 (C#)**:
- `TimelineSplitter.cs` - 타임라인 분할 관리
- `PlayerClone.cs` - 플레이어 분신 제어
- `ActionRecorder.cs` - 행동 기록/재생
- `TimeSplitPuzzleManager.cs` - 퍼즐 관리
- `ParadoxDetector.cs` - 시간 역설 감지

**UI 에셋**:
- 타임라인 표시 UI (3개 트랙)
- 분기점 마커
- 현재 조작 중인 타임라인 하이라이트
- 시간 역설 경고 UI

**비주얼 에셋**:
- 플레이어 분신 스프라이트 (색상 구분)
- 타임라인 연결선
- 분기점 이펙트
- 동기화 성공 파티클
- 시간 역설 경고 이펙트

**오디오 에셋**:
- 타임라인 분할 효과음
- 분신 생성 소리
- 동기화 성공 사운드
- 시간 역설 경고음
- 각 타임라인별 구분되는 배경음악 레이어

---

## 🎮 기존 게임과의 연동 방안

### TimeBouncer와의 연계
현재 존재하는 TimeBouncer 미니게임은 시계의 원형 구조와 패들 조작을 활용합니다. 새로운 미니게임들은 다음과 같이 연계될 수 있습니다:

1. **공통 시각 요소 활용**
   - 원형 시계 구조
   - 시침/분침 비주얼
   - 시계 테마 UI

2. **기존 시스템 확장**
   - `DigitalClock.cs` 확장하여 시간 조작 기능 추가
   - `TimeEventDefine` 시스템을 미니게임 이벤트에 활용
   - `TimeEventTargetManager`를 통한 미니게임 트리거

3. **보상 및 진행 연결**
   - 미니게임 클리어 시 메인 게임 TimeEvent 발동
   - 메인 게임의 타임루프에서 미니게임 진입
   - 미니게임 점수가 메인 스토리 진행에 영향

### 통합 관리 시스템
```
MiniGameHub
├─ MiniGameRegistry.cs (미니게임 등록/관리)
├─ MiniGameLauncher.cs (미니게임 실행)
├─ MiniGameProgressTracker.cs (진행도 저장)
└─ MiniGameRewardManager.cs (보상 처리)
```

---

## 🔧 공통 기술 요구사항

### Unity 6 기능 활용
1. **Unity 6 Graphics**
   - URP (Universal Render Pipeline) 2D
   - 2D Lights와 Shadows
   - Sprite Atlas 최적화

2. **Input System**
   - New Input System 사용 (기존 InputSystem_Actions.inputactions 확장)
   - 키보드, 마우스, 터치 통합 지원
   - 입력 재바인딩 지원

3. **Addressables**
   - 미니게임 에셋 동적 로딩
   - 메모리 최적화
   - 빌드 크기 관리

### 공통 시스템 컴포넌트
1. **오디오 매니저**
   - BGM 및 효과음 관리
   - 볼륨 조절 시스템
   - 오디오 믹서 그룹

2. **세이브 시스템**
   - 미니게임 진행도 저장
   - JSON 기반 데이터 구조
   - 클라우드 세이브 지원 (선택적)

3. **UI 프레임워크**
   - TextMesh Pro 활용
   - 반응형 UI 레이아웃
   - UI 애니메이션 시스템

---

## 📊 개발 우선순위 제안

### 1순위: 시간 역행 퍼즐
- **이유**: 메인 게임의 타임루프 컨셉과 가장 밀접
- **복잡도**: 중간
- **확장성**: 높음 (다양한 퍼즐 레벨 제작 가능)

### 2순위: 시계 침 블록 쌓기
- **이유**: TimeBouncer와 유사한 구조로 빠른 프로토타입 가능
- **복잡도**: 낮음
- **확장성**: 중간 (난이도 조절로 재미 증대)

### 3순위: 시간의 틈 찾기
- **이유**: 스토리텔링과 연계 용이
- **복잡도**: 중간
- **확장성**: 중간 (레벨 디자인 필요)

### 4순위: 시계 기어 퍼즐
- **이유**: 독특한 메커니즘이지만 개발 복잡도 높음
- **복잡도**: 높음
- **확장성**: 높음 (물리 시뮬레이션 재사용)

### 5순위: 시간 분할 액션
- **이유**: 가장 복잡하지만 혁신적
- **복잡도**: 매우 높음
- **확장성**: 매우 높음 (엔드게임 콘텐츠)

---

## 📝 다음 단계

1. **프로토타입 제작**
   - 1순위 또는 2순위 게임으로 프로토타입 제작
   - 핵심 메커니즘 검증
   - 재미 요소 테스트

2. **에셋 준비**
   - 필요한 스프라이트 목록 작성
   - UI 목업 제작
   - 사운드 효과 목록 작성

3. **기술 검증**
   - Unity 6 기능 호환성 확인
   - 성능 테스트
   - 기존 시스템과의 통합 테스트

4. **상세 기획**
   - 선정된 미니게임의 레벨 디자인
   - 게임플레이 밸런싱
   - 보상 체계 설계

---

## 🎯 결론

5가지 미니게임 아이디어 모두 'timeless' 테마와 타임루프 메커니즘을 다양한 방식으로 활용합니다. 각 게임은 난이도와 개발 복잡도가 다르므로, 프로젝트의 리소스와 일정에 맞춰 단계적으로 개발할 것을 권장합니다.

**권장 시작점**: "시간 역행 퍼즐" 또는 "시계 침 블록 쌓기"로 프로토타입을 제작하여 핵심 재미 요소를 검증한 후, 나머지 게임으로 확장하는 전략이 효과적일 것입니다.
